<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- === 1. Primary Meta Tags === -->
    <title>ROBUR.IM • Core Strength</title>
    <meta name="title" content="ROBUR.IM • Core Strength">
    <meta name="description" content="An interactive digital monument exploring strength as foundation. Reveal layers to discover the robur—the heartwood core that makes sovereignty possible.">
    <meta name="keywords" content="robur, core strength, digital sovereignty, interactive art, heartwood, foundation">
    <meta name="author" content="robur.im (An unearth.im Project)">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- === Canonical Link === -->
    <link rel="canonical" href="https://robur.im/" />

    <!-- === 2. Webmention Endpoint === -->
    <link rel="webmention" href="https://webmention.io/unearth.im/webmention" />

    <!-- === Schema.org JSON-LD === -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": ["VisualArtwork"],
          "@id": "https://robur.im/#content",
          "name": "ROBUR.IM • Core Strength",
          "description": "An interactive digital monument exploring strength as foundation. Reveal layers to discover the robur—the heartwood core that makes sovereignty possible.",
          "url": "https://robur.im/",
          "datePublished": "2024-12-01",
          "artMedium": "Interactive Layered Experience",
          "artForm": "Digital Monument",
          "creator": [
            { "@id": "https://josiest.com/#person" },
            { "@id": "https://felixvelas.co/#person" }
          ],
          "publisher": { "@id": "https://unearth.im/#organization" }
        },
        {
          "@type": "WebSite",
          "@id": "https://robur.im/#website",
          "url": "https://robur.im/",
          "name": "robur.im",
          "publisher": { "@id": "https://unearth.im/#organization" }
        },
        {
          "@type": "Organization",
          "@id": "https://unearth.im/#organization",
          "name": "unearth.im",
          "url": "https://unearth.im/",
          "logo": {
            "@type": "ImageObject",
            "url": "https://unearth.im/assets/unearth-logo.png"
          },
          "sameAs": [
            "https://twitter.com/unearthim",
            "https://github.com/unearthim"
          ],
          "foundingDate": "2024"
        },
        {
          "@type": "Person",
          "@id": "https://josiest.com/#person",
          "name": "Josie Jefferson",
          "jobTitle": "Digital Archaeologist & Trust Architect",
          "url": "https://josiest.com/",
          "sameAs": ["https://notjojo.im"],
          "affiliation": { "@id": "https://unearth.im/#organization" }
        },
        {
          "@type": "Person",
          "@id": "https://felixvelas.co/#person",
          "name": "Felix Velasco",
          "jobTitle": "Trust Architect & Digital Archaeologist",
          "url": "https://felixvelas.co/",
          "sameAs": ["https://www.linkedin.com/in/felix-velasco-b793015"],
          "affiliation": { "@id": "https://unearth.im/#organization" }
        }
      ]
    }
    </script>

    <!-- === 3. Open Graph / Facebook === -->
    <meta property="og:title" content="ROBUR.IM • Core Strength">
    <meta property="og:description" content="An interactive digital monument exploring strength as foundation. Reveal layers to discover the robur—the heartwood core that makes sovereignty possible.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://robur.im/">
    <meta property="og:image" content="https://robur.im/og-image.png">
    <meta property="og:site_name" content="ROBUR.IM">

    <!-- === 4. Twitter Card === -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://robur.im/">
    <meta property="twitter:title" content="ROBUR.IM • Core Strength">
    <meta property="twitter:description" content="An interactive digital monument exploring strength as foundation. Reveal layers to discover the robur—the heartwood core that makes sovereignty possible.">
    <meta property="twitter:image" content="https://robur.im/og-image.png">

    <!-- === 5. Favicons === -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="alternate icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- === Brand Color Meta Tags === -->
    <meta name="theme-color" content="#1c1917">
    <meta name="msapplication-TileColor" content="#b8860b">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        
        .layer-ring {
            position: absolute;
            border-radius: 50%;
            transition: all 0.7s ease-out;
        }
        
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .modal-content::-webkit-scrollbar-track {
            background: #1c1917;
        }
        
        .modal-content::-webkit-scrollbar-thumb {
            background: #78716c;
            border-radius: 4px;
        }
        
        .modal-content::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }
    </style>
</head>
<body>
    <div 
        id="monument-container"
        class="relative w-full h-screen bg-gradient-to-br from-zinc-900 via-stone-900 to-neutral-900 overflow-hidden cursor-pointer"
    >
        <!-- Layers Container -->
        <div id="layers-container" class="absolute inset-0 flex items-center justify-center pointer-events-none">
            <!-- Layers will be inserted here by JavaScript -->
        </div>
        
        <!-- Core -->
        <div id="core" class="absolute rounded-full transition-all duration-1000 pointer-events-none"></div>

        <!-- Title Button -->
        <button
            id="titleBtn"
            class="absolute top-8 left-8 text-amber-200/70 hover:text-amber-100 transition-colors duration-300 text-sm tracking-[0.3em] uppercase font-light z-20"
        >
            robur.im
        </button>

        <!-- Interaction Hint -->
        <div id="hint" class="absolute bottom-8 right-8 text-stone-500 text-xs tracking-wider uppercase z-20">
            move • click to reveal
        </div>

        <!-- Restart Button -->
        <button
            id="restartBtn"
            class="absolute bottom-8 left-8 text-amber-200/70 hover:text-amber-100 transition-colors duration-300 text-xs tracking-wider uppercase z-20 hidden"
        >
            restart
        </button>

        <!-- Modal -->
        <div 
            id="modal"
            class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden items-center justify-center z-50 p-8"
        >
            <div 
                class="modal-content bg-stone-900 border border-amber-900/30 max-w-2xl w-full max-h-[80vh] overflow-y-auto"
            >
                <div class="p-12">
                    <h2 class="text-3xl text-amber-100 mb-8 tracking-wide font-light">
                        Robur
                    </h2>
                    
                    <div class="space-y-4 text-stone-300 leading-relaxed">
                        <p class="italic text-stone-400">
                            From the Latin for oak, heartwood, and core strength. The part of the tree that bears all weight, accumulated through seasons of patient growth.
                        </p>
                        
                        <p>
                            This digital monument explores strength not as force, but as foundation. Each layer you reveal moves closer to the core—the robur—that makes sovereignty possible. Like the heartwood of an ancient oak, true strength is built slowly, through time and pressure, becoming the immovable center that supports everything else.
                        </p>
                        
                        <p>
                            Interact with the piece to peel back layers and discover what lies beneath. The deeper you go, the closer you come to the essential: the unshakeable ground upon which a sovereign digital life can be built.
                        </p>
                    </div>

                    <div class="mt-12 pt-8 border-t border-amber-900/20 text-center">
                        <p class="text-stone-500 text-sm tracking-wider">
                            <small>
                                a <b><a href="https://sentientification.com" target="_blank" rel="noopener noreferrer" class="text-amber-200/70 hover:text-amber-100 transition-colors">liminal mind meld</a></b> collaboration:<br>
                                digital monument by <b><a href="https://unearth.im" target="_blank" rel="noopener noreferrer" class="text-amber-200/70 hover:text-amber-100 transition-colors">unearth.im</a></b> | <b><a href="https://archaeobytology.org" target="_blank" rel="noopener noreferrer" class="text-amber-200/70 hover:text-amber-100 transition-colors">archive & anvil</a></b>
                            </small>
                        </p>
                    </div>

                    <button
                        id="closeModalBtn"
                        class="mt-8 w-full py-3 text-stone-500 hover:text-stone-300 transition-colors text-sm tracking-wider uppercase"
                    >
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State variables
        let mousePos = { x: 0.5, y: 0.5 };
        let revealedLayers = 0;
        let pulsePhase = 0;
        let pulseInterval = null;

        // Layer configuration
        const layers = [
            { color: '#3d2817', size: 95, opacity: 0.9 },
            { color: '#5a3a1f', size: 80, opacity: 0.85 },
            { color: '#7a4e2a', size: 65, opacity: 0.8 },
            { color: '#9a6536', size: 50, opacity: 0.75 },
            { color: '#b8834a', size: 35, opacity: 0.7 },
        ];

        // Get DOM elements
        const container = document.getElementById('monument-container');
        const layersContainer = document.getElementById('layers-container');
        const core = document.getElementById('core');
        const hint = document.getElementById('hint');
        const restartBtn = document.getElementById('restartBtn');
        const titleBtn = document.getElementById('titleBtn');
        const modal = document.getElementById('modal');
        const closeModalBtn = document.getElementById('closeModalBtn');

        // Initialize layers
        function initLayers() {
            layersContainer.innerHTML = '';
            layers.forEach((layer, i) => {
                const div = document.createElement('div');
                div.className = 'layer-ring';
                div.id = `layer-${i}`;
                div.style.backgroundColor = layer.color;
                div.style.opacity = layer.opacity;
                div.style.position = 'absolute';
                div.style.left = '50%';
                div.style.top = '50%';
                layersContainer.appendChild(div);
            });
        }

        // Update layers based on state
        function updateLayers() {
            const isFullyRevealed = revealedLayers >= 5;
            const coreGlow = isFullyRevealed 
                ? 0.9 + (Math.sin(pulsePhase) * 0.1)
                : 0.3 + (Math.sin(pulsePhase) * 0.15);

            layers.forEach((layer, i) => {
                const layerEl = document.getElementById(`layer-${i}`);
                if (i < revealedLayers) {
                    layerEl.style.display = 'none';
                    return;
                }

                const offsetX = (mousePos.x - 0.5) * (30 - i * 5);
                const offsetY = (mousePos.y - 0.5) * (30 - i * 5);
                const breathing = Math.sin(pulsePhase + i * 0.3) * 2;
                
                // Calculate size based on viewport to maintain circular aspect ratio
                const containerWidth = container.clientWidth;
                const containerHeight = container.clientHeight;
                const minDimension = Math.min(containerWidth, containerHeight);
                const sizePercent = layer.size + breathing;
                const pixelSize = (minDimension * sizePercent) / 100;

                layerEl.style.display = 'block';
                layerEl.style.width = `${pixelSize}px`;
                layerEl.style.height = `${pixelSize}px`;
                layerEl.style.transform = `translate(-50%, -50%) translate(${offsetX}px, ${offsetY}px)`;
                layerEl.style.boxShadow = `inset 0 0 ${40 + i * 10}px rgba(0,0,0,0.5)`;
            });

            // Update core
            const containerWidth = container.clientWidth;
            const containerHeight = container.clientHeight;
            const minDimension = Math.min(containerWidth, containerHeight);
            const coreSizePercent = isFullyRevealed ? 25 : 20;
            const corePixelSize = (minDimension * coreSizePercent) / 100;
            
            core.style.width = `${corePixelSize}px`;
            core.style.height = `${corePixelSize}px`;
            core.style.left = '50%';
            core.style.top = '50%';
            core.style.transform = 'translate(-50%, -50%)';
            core.style.background = `radial-gradient(circle, 
                rgba(218, 165, 32, ${coreGlow}) 0%, 
                rgba(184, 134, 11, ${coreGlow * 0.7}) 40%,
                rgba(139, 90, 0, ${coreGlow * 0.4}) 70%,
                transparent 100%)`;
            core.style.opacity = isFullyRevealed ? 1 : Math.min(1, revealedLayers * 0.25 + 0.2);
            
            if (isFullyRevealed) {
                core.style.boxShadow = `0 0 ${120 * coreGlow}px rgba(218, 165, 32, ${coreGlow * 0.8}), 0 0 ${200 * coreGlow}px rgba(218, 165, 32, ${coreGlow * 0.4})`;
            } else {
                core.style.boxShadow = `0 0 ${60 * coreGlow}px rgba(218, 165, 32, ${coreGlow * 0.6})`;
            }

            // Update hint text
            hint.textContent = revealedLayers < 5 ? 'move • click to reveal' : 'core revealed';

            // Show/hide restart button
            if (isFullyRevealed) {
                restartBtn.classList.remove('hidden');
            } else {
                restartBtn.classList.add('hidden');
            }
        }

        // Start pulse animation
        function startPulse() {
            pulseInterval = setInterval(() => {
                pulsePhase = (pulsePhase + 0.02) % (Math.PI * 2);
                updateLayers();
            }, 50);
        }

        // Event handlers
        container.addEventListener('mousemove', (e) => {
            const rect = container.getBoundingClientRect();
            mousePos = {
                x: (e.clientX - rect.left) / rect.width,
                y: (e.clientY - rect.top) / rect.height
            };
            updateLayers();
        });

        container.addEventListener('click', (e) => {
            if (e.target.tagName !== 'BUTTON') {
                revealedLayers = Math.min(revealedLayers + 1, 5);
                updateLayers();
            }
        });

        restartBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            revealedLayers = 0;
            updateLayers();
        });

        titleBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        });

        closeModalBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        });

        // Initialize
        initLayers();
        updateLayers();
        startPulse();
        
        // Update on resize to maintain circles
        window.addEventListener('resize', updateLayers);

        // Cleanup
        window.addEventListener('beforeunload', () => {
            if (pulseInterval) {
                clearInterval(pulseInterval);
            }
        });
    </script>
</body>
</html>